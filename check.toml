# check-my-toolkit configuration

# NOTE: Registry extends temporarily disabled - registry needs update for pnpmaudit
# [extends]
# registry = "github:chrismlittle123/check-my-toolkit-registry-community"
# rulesets = ["typescript-internal"]

# Local overrides
[code.linting.eslint]
enabled = true
files = ["src/**/*.ts"]

[code.formatting.prettier]
enabled = true

# pnpm audit - only check production dependencies
[code.security.pnpmaudit]
enabled = true
exclude_dev = true

# Naming conventions (override to exclude test fixtures)
[code.naming]
enabled = true

[[code.naming.rules]]
extensions = ["ts", "tsx"]
file_case = "kebab-case"
folder_case = "kebab-case"
exclude = ["tests/e2e/projects/**"]

# Detect linter disable comments
[code.quality.disable-comments]
enabled = true
exclude = ["tests/**", "src/code/tools/disable-comments.ts", "src/projects/detector.ts", "src/infra/tools/tagging.ts", "src/config/schema.ts", "src/config/registry.ts"]

# Process domain - workflow validation
[process.hooks]
enabled = true
require_husky = true
require_hooks = ["pre-commit", "pre-push", "commit-msg"]

[process.hooks.commands]
pre-commit = ["lint-staged"]
pre-push = ["process check-branch", "npm run typecheck", "npm run lint", "npm run build"]
commit-msg = ["process check-commit"]

[process.ci]
enabled = true
require_workflows = ["ci.yml", "release.yml", "pr-checks.yml"]

[process.ci.jobs]
"ci.yml" = ["test"]

[process.ci.actions]
"ci.yml" = ["actions/checkout", "actions/setup-node"]

[process.branches]
enabled = true
pattern = "^(feature|fix|hotfix|docs)/v[0-9]+\\.[0-9]+\\.[0-9]+/[a-z0-9-]+$"
exclude = ["main"]

[process.commits]
enabled = true
types = ["feat", "fix", "chore", "docs", "refactor", "test", "style", "perf", "ci", "build"]
require_scope = false
max_subject_length = 100

[process.changesets]
enabled = true
require_for_paths = ["src/**"]
exclude_paths = ["**/*.test.ts", "**/*.md"]
validate_format = true
require_description = true